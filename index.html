<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="chapTAP Autofix - Premium roadside assistance in Kenya" />
  <title>chapTAP Autofix - Premium Roadside Assistance Kenya</title>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // ICON COMPONENTS
    const Phone = ({ size = 24 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M22 16.92v3a2 2 0 0 1-2.18 2A19.8 19.8 0 0 1 3.26 5.18 2 2 0 0 1 5.11 2h3a2 2 0 0 1 2 1.72 12.8 12.8 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.8 12.8 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
      </svg>
    );

    const MessageCircle = ({ size = 24 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
      </svg>
    );

    const Star = ({ size = 16 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="currentColor">
        <polygon points="12 2 15 8 22 9 17 14 18 21 12 18 6 21 7 14 2 9 9 8 12 2"/>
      </svg>
    );

    const TrendingUp = ({ size = 32 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
        <polyline points="17 6 23 6 23 12"/>
      </svg>
    );

    const Users = ({ size = 32 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
        <circle cx="9" cy="7" r="4"/>
        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
      </svg>
    );

    const X = ({ size = 24 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    );

    // MAIN APP
    const ChapTapAutofix = () => {
      const [userType, setUserType] = useState('driver');
      const [currentView, setCurrentView] = useState('home');
      const [providers, setProviders] = useState([]);
      const [shops, setShops] = useState([]);
      const [requests, setRequests] = useState([]);
      const [showAdminAuth, setShowAdminAuth] = useState(false);
      const [adminPin, setAdminPin] = useState('');
      const [showNotifications, setShowNotifications] = useState(false);
      const [notifications, setNotifications] = useState([]);

      useEffect(() => {
        setProviders([
          { id:1, name:'Mike Garage', phone:'0721122334', services:['Towing','Tyre'], location:'Nyali', rating:4.5, status:'Approved' },
          { id:2, name:'Quick Fix Auto', phone:'0733445566', services:['Battery'], location:'CBD', rating:4.3, status:'Approved' }
        ]);

        setShops([
          { id:1, name:'Mombasa Oils Centre', location:'Nyali', type:'Lubricants', products:'Engine Oil, Brake Fluid', phone:'0712345678', rating:4.5 },
          { id:2, name:'AutoSpare Hub', location:'Changamwe', type:'Parts', products:'Belts, Plugs', phone:'0721987654', rating:4.3 }
        ]);
      }, []);

      const handleAdminAccess = () => {
        if(adminPin === '1234') setShowAdminAuth(false);
      };

      const getIssueBreakdown = () => ({});
      const getStatusBreakdown = () => ({});

      return (
        <div className="min-h-screen bg-gray-50">
          <div className="max-w-md mx-auto p-4">

            {currentView === 'home' && (
              <div className="space-y-4">
                <button onClick={()=>setCurrentView('providers')} className="w-full bg-black text-yellow-400 py-3 rounded-lg font-bold">Find Service Providers</button>
                <button onClick={()=>setCurrentView('shops')} className="w-full bg-yellow-500 text-black py-3 rounded-lg font-bold">Browse Shops</button>
              </div>
            )}

            {currentView === 'providers' && (
              <div className="space-y-4">
                <button onClick={()=>setCurrentView('home')} className="text-blue-500">‚Üê Back</button>

                {providers.map(p => (
                  <div key={p.id} className="bg-white p-4 rounded shadow">
                    <div className="flex justify-between">
                      <div>
                        <div className="font-bold">{p.name}</div>
                        <div className="text-sm text-gray-600">{p.location}</div>
                        <div className="text-sm">{p.services.join(', ')}</div>
                      </div>
                      <div className="flex items-center gap-1">
                        <Star className="text-yellow-400"/>
                        <span>{p.rating}</span>
                      </div>
                    </div>

                    <div className="grid grid-cols-2 gap-2 mt-3">
                      <a
                        href={`tel:${p.phone}`}
                        className="bg-blue-500 text-white py-2 rounded-lg text-center text-sm flex items-center justify-center gap-1 hover:bg-blue-600"
                      >
                        <Phone size={14}/>Call Now
                      </a>
                      <a
                        href={`https://wa.me/${p.phone.replace(/^0/, '254')}`}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="bg-green-500 text-white py-2 rounded-lg text-center text-sm flex items-center justify-center gap-1 hover:bg-green-600"
                      >
                        <MessageCircle size={14}/>WhatsApp
                      </a>
                    </div>
                  </div>
                ))}
              </div>
            )}

            {currentView === 'shops' && (
              <div className="space-y-4">
                <button onClick={()=>setCurrentView('home')} className="text-blue-500">‚Üê Back</button>

                {shops.map(s => (
                  <div key={s.id} className="bg-white p-4 rounded shadow">
                    <div className="font-bold">{s.name}</div>
                    <div className="text-sm text-gray-600">{s.location}</div>
                    <div className="text-sm text-blue-600">{s.type}</div>
                    <div className="text-sm text-gray-500">{s.products}</div>

                    <div className="grid grid-cols-2 gap-2 mt-3">
                      <a href={`tel:${s.phone}`} className="bg-blue-500 text-white py-2 rounded-lg text-center flex items-center justify-center gap-2">
                        <Phone size={16}/> Call
                      </a>
                      <a href={`https://wa.me/${s.phone.replace(/^0/, '254')}`} target="_blank" className="bg-green-500 text-white py-2 rounded-lg text-center flex items-center justify-center gap-2">
                        <MessageCircle size={16}/> WhatsApp
                      </a>
                    </div>
                  </div>
                ))}
              </div>
            )}

          </div>

          <div className="bg-gradient-to-r from-black to-gray-900 border-t border-yellow-600 p-4 text-center text-sm text-yellow-400 fixed bottom-0 left-0 right-0 max-w-md mx-auto shadow-lg">
            <p className="font-bold tracking-wide">chapTAP Autofix</p>
            <p className="text-xs text-yellow-200">üìû support@chaptap.co.ke | Premium Roadside Help</p>
          </div>
        </div>
      );
    };

    ReactDOM.render(<ChapTapAutofix />, document.getElementById('root'));
  </script>
</body>
</html>
